(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[806],{1645:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/play/[gameId]",function(){return r(4120)}])},5362:function(e,t,r){"use strict";r.d(t,{db:function(){return c}});var a=r(3977),n=r(9828),s=r(6650);(0,a.C6)().length?(0,a.Mq)():(0,a.ZF)({apiKey:"AIzaSyDZmymY9S2K7HhuEXInzxfOWoa-51dwcik",authDomain:"grid-game-creator.firebaseapp.com",projectId:"grid-game-creator",storageBucket:"grid-game-creator.appspot.com",messagingSenderId:"482384350199",appId:"1:482384350199:web:4447b8703c8e06af99bcf2"});let c=(0,n.ad)();(0,s.cF)()},4120:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var a=r(5893),n=r(7294),s=r(9576),c=r.n(s),l=r(9583),o=r(2208),i=function(e){let{cardsData:t}=e,r=(0,n.useContext)(o.Z),[s,i]=(0,n.useState)([]),[d,u]=(0,n.useState)(0),[m,p]=(0,n.useState)([]),[h,x]=(0,n.useState)(""),[f,g]=(0,n.useState)(1),v="".concat(c().className," p-8 w-24 h-24 xl:w-36 xl:h-36  grid place-items-center text-2xl border-4  rounded-xl transition cursor-pointer"),N=e=>{if(m.length<2&&null!=e.target.getAttribute("cardid")){let t=e.target,r=t.firstChild;r.classList.contains("hidden")?(m.push(t),p(m)):m.pop(),r.classList.toggle("hidden"),u(m.length)}},b=()=>{let e=[];for(let r=0;r<8;r++)for(let n=0;n<2;n++){let s=(0,a.jsx)("div",{cardid:r,onClick:N,className:"".concat(v," bg-purple-100 border-purple-800 hover:bg-purple-300"),children:(0,a.jsx)("span",{className:"hidden",children:t[r][n]})},"".concat(r).concat(n));e.push(s)}for(var c=e.length-1;c>0;c--){var l=Math.floor(Math.random()*(c+1)),o=e[c];e[c]=e[l],e[l]=o}i(e)},j=e=>{let a=m[0].getAttribute("cardid"),n=m[1].getAttribute("cardid"),s="equal"==e&&a==n,c="inequal"==e&&a!=n;s&&(g(f+1),console.log(f),f==t.length&&(console.log("Game completed, now updating state"),r.setGameCompleted(!0))),s||c?x("Correct Option!"):x("Incorrect Option!"),c&&!s?m.forEach(e=>{e.firstChild.classList.toggle("hidden")}):m.forEach(e=>{e.removeAttribute("cardid"),e.setAttribute("class","".concat(v," bg-pink-100 border-pink-500"))}),m.pop(),m.pop(),u(m.length),setTimeout(()=>{x("")},2e3)};return(0,n.useEffect)(()=>{console.log(t),b()},[]),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"grid grid-rows-4 grid-cols-4 gap-8 place-items-center text-center",children:s.map(e=>e)}),(0,a.jsxs)("div",{className:"w-3/5 mx-auto my-8 grid place-items-center",children:[2==d&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"".concat(c().className," my-2 text-lg"),children:"Are the two cards related?"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{onClick:()=>j("equal"),className:"text-xl p-6 border-4 rounded-md w-fit cursor-pointer bg-green-100 border-green-400 hover:text-green-600",children:(0,a.jsx)(l.l_A,{})}),(0,a.jsx)("div",{onClick:()=>j("inequal"),className:"text-xl p-6 border-4 rounded-md w-fit cursor-pointer bg-red-100 border-red-400 hover:text-red-600",children:(0,a.jsx)(l.aHS,{})})]})]}),d<2&&""!=h&&(0,a.jsx)("div",{className:"text-3xl",children:h})]})]})},d=r(922),u=r.n(d),m=r(9828),p=r(5362),h=r(1163),x=function(){let e=(0,h.useRouter)(),t=(0,n.useContext)(o.Z),[r,s]=(0,n.useState)([]),[l,d]=(0,n.useState)(0),x=()=>"".concat(Math.trunc(l/60),":").concat(l%60<10?"0":"").concat(l%60);return(0,n.useEffect)(()=>{console.log(t.gameCompleted),setTimeout(()=>{t.gameCompleted||d(l+1)},1e3)},[l]),(0,n.useEffect)(()=>{(0,m.QT)((0,m.JU)(p.db,"GRIDS/".concat(e.query.gameId))).then(e=>{let t=[],r=e.data();for(let a in console.log(r),r){let n=[];n.push(a),n.push(r[a]),console.log(n),t.push(n)}console.log(t),s(t)}).catch(e=>{console.log("Error while fetching: ".concat(e))})},[e.query.gameId]),(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_2fr_1fr] w-11/12 mx-auto my-4",children:[(0,a.jsxs)("div",{className:"flex-col flex",children:[(0,a.jsx)("p",{className:"".concat(u().className," text-2xl text-pink-500 font-bold"),children:"Timer"}),(0,a.jsx)("div",{className:"".concat(c().className," text-4xl font-bold"),children:x()}),t.gameCompleted&&(0,a.jsxs)("div",{className:"my-auto ",children:[(0,a.jsx)("p",{className:"".concat(u().className," text-3xl my-4"),children:"Congratulations \uD83C\uDFC6"}),(0,a.jsxs)("p",{className:"".concat(c().className," text-xl"),children:["You completed the game with"," ",(0,a.jsx)("span",{className:"font-bold text-pink-500",children:t.lives})," ","lives left in just"," ",(0,a.jsx)("span",{className:"font-bold text-pink-500",children:x()})," time"]})]})]}),(0,a.jsx)("div",{className:"mx-auto",children:(0,a.jsx)(i,{cardsData:r})}),(0,a.jsxs)("div",{className:"flex-col flex items-end",children:[(0,a.jsx)("p",{className:"".concat(u().className," text-right text-2xl text-pink-500 font-bold"),children:"Lives Left"}),(0,a.jsx)("div",{className:"".concat(c().className," text-4xl font-bold"),children:t.lives})]})]})}},8357:function(e,t,r){"use strict";r.d(t,{w_:function(){return o}});var a=r(7294),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=a.createContext&&a.createContext(n),c=function(){return(c=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},l=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};function o(e){return function(t){return a.createElement(i,c({attr:c({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return a.createElement(t.tag,c({key:r},t.attr),e(t.child))})}(e.child))}}function i(e){var t=function(t){var r,n=e.attr,s=e.size,o=e.title,i=l(e,["attr","size","title"]),d=s||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,i,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&a.createElement("title",null,o),e.children)};return void 0!==s?a.createElement(s.Consumer,null,function(e){return t(e)}):t(n)}}},function(e){e.O(0,[16,445,385,774,888,179],function(){return e(e.s=1645)}),_N_E=e.O()}]);